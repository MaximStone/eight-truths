[RU]
# –í–æ—Å—å–º–µ—Ä–∏—á–Ω—ã–π –ü—É—Ç—å - Telegram –ë–æ—Ç

Telegram-–±–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è –ë–ª–∞–≥–æ—Ä–æ–¥–Ω–æ–≥–æ –í–æ—Å—å–º–µ—Ä–∏—á–Ω–æ–≥–æ –ü—É—Ç–∏ –≤ –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–µ—Å—Ç–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –∂—É—Ä–Ω–∞–ª –ø—Ä–∞–∫—Ç–∏–∫–∏ –∏ –ø–æ–ª—É—á–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —Å–æ–±–ª—é–¥–µ–Ω–∏—é –∫–∞–∂–¥–æ–≥–æ –∞—Å–ø–µ–∫—Ç–∞ –ø—É—Ç–∏.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- üìù –ï–∂–µ–¥–Ω–µ–≤–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–æ–±–ª—é–¥–µ–Ω–∏—è 8 –∞—Å–ø–µ–∫—Ç–æ–≤ –ø—É—Ç–∏
- üí≠ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∫ –∫–∞–∂–¥–æ–º—É –¥–Ω—é
- üìä –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –∏ –º–µ—Å—è—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã
- üìö –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –∞—Å–ø–µ–∫—Ç–∞ –ø—É—Ç–∏
- üîî –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —á–µ—Ä–µ–∑ Telegram Web App

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- Node.js 20
- TypeScript
- Express.js
- SQLite3
- TypeORM
- Telegraf
- Docker

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 20+
- npm
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/MaximStone/eight-truths.git
cd eight-truths
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```env
TELEGRAM_TOKEN=your_telegram_bot_token
WEBAPP_URL=http://localhost:5000
```

4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
npm run dev
```

### –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

1. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
docker compose -f docker-compose.dev.yml up --build -d
```

2. –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
docker compose up --build -d
```

## –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º:

1. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```env
SSH_HOST=your_server_ip
SSH_KEY_PATH=path_to_your_ssh_key
REMOTE_PATH=/path/on/server
SSH_USER=your_ssh_user
```

2. –î–ª—è –æ–¥–Ω–æ—Ä–∞–∑–æ–≤–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:
```bash
npm run sync
```

3. –î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤:
```bash
npm run sync:watch
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app.ts              # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ telegramBot.ts      # –õ–æ–≥–∏–∫–∞ Telegram –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ entity/            # TypeORM —Å—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Entry.ts       # –ú–æ–¥–µ–ª—å –∑–∞–ø–∏—Å–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ User.ts        # –ú–æ–¥–µ–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îî‚îÄ‚îÄ middleware/        # Middleware –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ       ‚îî‚îÄ‚îÄ telegramAuth.ts # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è Telegram
‚îú‚îÄ‚îÄ public/               # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ index.html        # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ scripts/             # –°–∫—Ä–∏–ø—Ç—ã —É—Ç–∏–ª–∏—Ç
‚îÇ   ‚îú‚îÄ‚îÄ sync.js          # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º
‚îÇ   ‚îî‚îÄ‚îÄ watch.js         # –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îî‚îÄ‚îÄ docker/              # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `npm run dev` - –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- `npm run build` - –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `npm start` - –ó–∞–ø—É—Å–∫ —Å–æ–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- `npm run sync` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º
- `npm run sync:watch` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

## –§—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞

### –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

- `/start` - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã —Å –±–æ—Ç–æ–º
- `/help` - –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
- `/new` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å
- `/report` - –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç
- `/comment` - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∑–∞ —Å–µ–≥–æ–¥–Ω—è

### –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∑–∞ –Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–º –∞—Å–ø–µ–∫—Ç–µ –ø—É—Ç–∏

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —á–µ—Ä–µ–∑ Telegram
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Telegram
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT

## –ê–≤—Ç–æ—Ä

–ú–∞–∫—Å–∏–º –ö–æ—Å—Ç–µ—Ä–∏–Ω + LLM

##
[EN] 
# Eight Truths - Telegram Bot

Telegram bot for tracking adherence to the Noble Eightfold Path in daily life. The application helps users maintain a daily journal of practice and receive statistics on the adherence of each aspect of the path.

## Features

- üìù Daily tracking of adherence to 8 aspects of the path
- üí≠ Ability to add comments to each day
- üìä Weekly and monthly reports
- üìö Detailed description of each aspect of the path
- üîî Daily reminders
- üåê Web interface through Telegram Web App

## Technologies

- Node.js 20
- TypeScript
- Express.js
- SQLite3
- TypeORM
- Telegraf
- Docker

## Requirements

- Node.js 20+
- npm
- Docker (optional)

## Installation and launch

### Local development

1. Clone the repository:
```bash
git clone https://github.com/MaximStone/eight-truths.git
cd eight-truths
```

2. Install dependencies:
```bash
npm install
```

3. Create a `.env` file in the project root:
```env
TELEGRAM_TOKEN=your_telegram_bot_token
WEBAPP_URL=http://localhost:5000
```

4. Run the application in development mode:
```bash
npm run dev
```

### Running through Docker

1. For development:
```bash
docker compose -f docker-compose.dev.yml up --build -d
```

2. For production:
```bash
docker compose up --build -d
```

## Synchronization with the server

The project includes scripts for automatic synchronization with the remote server:

1. Add the following parameters to `.env`:
```env
SSH_HOST=your_server_ip
SSH_KEY_PATH=path_to_your_ssh_key
REMOTE_PATH=/path/on/server
SSH_USER=your_ssh_user
```

2. For a one-time synchronization:
```bash
npm run sync
```

3. For automatic synchronization when files change:
```bash
npm run sync:watch
```

## Project structure

```
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app.ts              
‚îÇ   ‚îú‚îÄ‚îÄ telegramBot.ts      
‚îÇ   ‚îú‚îÄ‚îÄ entity/            
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Entry.ts      
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ User.ts        
‚îÇ   ‚îî‚îÄ‚îÄ middleware/        
‚îÇ       ‚îî‚îÄ‚îÄ telegramAuth.ts 
‚îú‚îÄ‚îÄ public/               
‚îÇ   ‚îî‚îÄ‚îÄ index.html        
‚îú‚îÄ‚îÄ scripts/             
‚îÇ   ‚îú‚îÄ‚îÄ sync.js         
‚îÇ   ‚îî‚îÄ‚îÄ watch.js         
‚îî‚îÄ‚îÄ docker/              
```

## Main commands

- `npm run dev` - Run in development mode
- `npm run build` - Build the project
- `npm start` - Run the built project
- `npm run sync` - Synchronize with the server
- `npm run sync:watch` - Automatic synchronization when files change

## Bot Functions

### Bot Commands

- `/start` - Start working with the bot
- `/help` - Show help
- `/new` - Create a new entry
- `/report` - Generate a report
- `/comment` - Add a comment for today

### Web Interface

- View statistics for week/month
- Edit entries
- Add and edit comments
- Detailed information about each aspect of the path

## Security

- User authentication through Telegram
- Verification of Telegram data signatures
- Secure storage of tokens and sensitive data

## License

MIT

## Author

Maxim Kosterin + LLM
